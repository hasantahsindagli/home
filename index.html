<!DOCTYPE html>
<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Bunu Yazan Tosun da olabilirdi...</title></head><body oncontextmenu="return false;">
<link rel="icon" type="image/x-icon" href="HomeAutomation_dosyalar/dh89ovk-e4f66825-7f51-4763-bf3c-36df5a102b12.png"><div class="content">
<meta http-equiv="Content-Security-Policy" content="*">
<form id="myForm" action="/set" method="post">
<input type="time" id="saat" step="1" style="font-size:34px;width:178px;height:40px;color:#4800FF;text-align:center;margin: 0 auto;" disabled="disabled" value="10:40:41">
<input type="time" id="timeBox" name="start_time" onchange="alarmZamaniAyarla(this.value)" style="font-size:34px;width:168px;height:40px;font-weight:bold;color:#0094FF;text-align:center;margin: 0 auto;" value="01:42">
<br><br>
</form>
</div>
<img src="HomeAutomation_dosyalar/dh89ovk-e4f66825-7f51-4763-bf3c-36df5a102b12.png" id="imgkur2"><div class="slider-container2">
<input type="checkbox" id="checkboxtt" class="checkbox1" onchange="submitForm(); return false;" name="action" value="1" unchecked="">
<label class="slider" for="checkboxtt"></label></div><img src="HomeAutomation_dosyalar/dh7zaav-4c6719b5-325a-49c4-a57f-36a061f4202b.png" id="imgkur"><br>
<div class="images2">        <img src="HomeAutomation_dosyalar/dhd1x3z-585970e9-f3d0-4afe-bcc9-77233c348e11.png" width="90" height="90" left="200"></div>
<div class="slider-container1">  <input type="checkbox" id="checkbox1" class="checkbox2" onchange="toggleImage1()" unchecked="">  <label class="slider" for="checkbox1"></label>
</div> <div class="images1">  <img src="HomeAutomation_dosyalar/dh8blhj-063e03b4-524e-47e6-a5cf-83fe6abdc56a.png" id="image11" width="80" height="80" left="200" style="display: none;">  
<img src="HomeAutomation_dosyalar/dh8blhp-15232ddf-fc77-4140-b903-e3f92de7c00f.png" id="image12" width="80" height="80" left="200" style="display: block;"></div><div class="images2">  
<img src="HomeAutomation_dosyalar/dhd1vwa-1c872e44-b67c-4ba6-b06d-5010ae1d7b8c.png" width="90" height="90" left="200"></div><div class="slider-container1">  
<input type="checkbox" id="checkbox2" class="checkbox2" onchange="toggleImage2()" unchecked="">  <label class="slider" for="checkbox2"></label></div><div class="images1">  
<img src="HomeAutomation_dosyalar/dh8blhj-063e03b4-524e-47e6-a5cf-83fe6abdc56a.png" id="image21" width="80" height="80" left="200" style="display: none;">  
<img src="HomeAutomation_dosyalar/dh8blhp-15232ddf-fc77-4140-b903-e3f92de7c00f.png" id="image22" width="80" height="80" left="200" style="display: block;">
</div><div class="images2">        <img src="HomeAutomation_dosyalar/dhd1vw3-661e992e-9a90-4508-a006-1ce02f9fcc55.png" width="90" height="90" left="200">
</div><div class="slider-container1">  <input type="checkbox" id="checkbox0" class="checkbox2" onchange="toggleImage0()" checked="checked">  <label class="slider" for="checkbox0">
</label></div><div class="images1">  <img src="HomeAutomation_dosyalar/dh8blhj-063e03b4-524e-47e6-a5cf-83fe6abdc56a.png" id="image01" width="80" height="80" left="200" style="display: block;">  
<img src="HomeAutomation_dosyalar/dh8blhp-15232ddf-fc77-4140-b903-e3f92de7c00f.png" id="image02" width="80" height="80" left="200" style="display: none;"></div>
<style>body { background-image: url('https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/8e13bd94-05b6-47b6-b18e-560c876b0112/dhcrhww-328ec1fc-4531-4fa5-a1ba-2c7046efbdac.png?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwiaXNzIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsIm9iaiI6W1t7InBhdGgiOiJcL2ZcLzhlMTNiZDk0LTA1YjYtNDdiNi1iMThlLTU2MGM4NzZiMDExMlwvZGhjcmh3dy0zMjhlYzFmYy00NTMxLTRmYTUtYTFiYS0yYzcwNDZlZmJkYWMucG5nIn1dXSwiYXVkIjpbInVybjpzZXJ2aWNlOmZpbGUuZG93bmxvYWQiXX0.SCDO7qA3PNRPOxuqwZa-fF-vVPxJQV_I0Q6ZCrZIFY4');background-repeat: no-repeat;background-size: 376px 481px;background-attachment: fixed;overflow: hidden;}.content {max-width: 430px;align-items: center;margin-left: 2px;margin-top: 20px;overflow: auto;}.content2 {max-width: 430px;align-items: center;margin-left: 94px;margin-top: -10px;overflow: auto;}.checkbox1 {display: none;}.checkbox2 {display: none;}.slider-container1 {    display: inline-block;    position: relative;    width: 120px;    height: 54px;    left: 115px;    top: -72px;        }.slider-container2 {    display: inline-block;    position: relative;    width: 120px;    height: 54px;    left: 15px;    top: -10px;        }.slider {    position: absolute;    cursor: pointer;    top: 0;    left: 0;    right: 0;    bottom: 0;    background-color: #7F0000; /* Gray slider color */    -webkit-transition: .4s;    transition: .4s;    border-radius: 54px;}.slider:before {    position: absolute;    content: '';    height: 46px;    width: 46px;    left: 4px;    bottom: 4px;    background-color: #ffffff; /* White button color */    -webkit-transition: .4s;    transition: .4s;    border-radius: 50%;}.checkbox1:checked + .slider:before {    -webkit-transform: translateX(66px);    -ms-transform: translateX(66px);    transform: translateX(66px);}.checkbox1:checked + .slider {    background-color: #4800FF; /* Green slider color */}.checkbox2:checked + .slider:before {    -webkit-transform: translateX(66px);    -ms-transform: translateX(66px);    transform: translateX(66px);}.checkbox2:checked + .slider {    background-color: #00FF21; /* Green slider color */}        .images1 {            display: flex;            justify-content: flex-start;            margin-top: -142px;            margin-left: 274px;        }        .images2 {            display: flex;            justify-content: flex-start;            margin-top: 6px;        }        .images1 img {            display: none;        }        .checkbox2:checked ~ .images1 #image1,        .checkbox2:not(:checked) ~ .images1 #image2 {            display: block;        }#imgkur {  margin-left: 40px;  margin-top: -40px;}#imgkur2 {  width: 100px;  height: 100px;  margin-left: 0px;  margin-top: -10px;}#saat {    margin-left: 0px;    font-size: 34px;    font-weight: bold;}#saat::-webkit-calendar-picker-indicator {    display: none;}#saat::-webkit-inner-spin-button,#saat::-webkit-clear-button {    display: none;}
</style>
<script>
var alarmZamanlayici;
var alarmAktif = false;
function submitForm() {
  var form = document.getElementById('myForm');
  var xhr = new XMLHttpRequest();
  xhr.open('POST', 'http://admin:05055261517@hasantahsindagli.keenetic.pro/set', true);
  xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
  xhr.onload = function () {
    if (xhr.status === 200) {
      console.log('Form submitted successfully.');
      var image = document.getElementById('imgkur');
      var timeInput = document.getElementById('timeBox');
      var actionStatus = document.getElementById('checkboxtt').checked;
      if (actionStatus) {
           image.src = 'https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/8e13bd94-05b6-47b6-b18e-560c876b0112/dhd94hj-a46861ca-d32c-4e66-8b9e-3023d947b753.gif?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwiaXNzIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsIm9iaiI6W1t7InBhdGgiOiJcL2ZcLzhlMTNiZDk0LTA1YjYtNDdiNi1iMThlLTU2MGM4NzZiMDExMlwvZGhkOTRoai1hNDY4NjFjYS1kMzJjLTRlNjYtOGI5ZS0zMDIzZDk0N2I3NTMuZ2lmIn1dXSwiYXVkIjpbInVybjpzZXJ2aWNlOmZpbGUuZG93bmxvYWQiXX0.sQrKPPtAKW2PHeVZFpqzTorNMB76swqASLCQoo5oKfA' ;
           timeInput.style.color = '#FF0000';
       } else {
           image.src = 'https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/8e13bd94-05b6-47b6-b18e-560c876b0112/dh7zaav-4c6719b5-325a-49c4-a57f-36a061f4202b.png?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwiaXNzIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsIm9iaiI6W1t7InBhdGgiOiJcL2ZcLzhlMTNiZDk0LTA1YjYtNDdiNi1iMThlLTU2MGM4NzZiMDExMlwvZGg3emFhdi00YzY3MTliNS0zMjVhLTQ5YzQtYTU3Zi0zNmEwNjFmNDIwMmIucG5nIn1dXSwiYXVkIjpbInVybjpzZXJ2aWNlOmZpbGUuZG93bmxvYWQiXX0.f0ZFw7hL-jVH-Py3m1pXuO8P7k3w6s6Pqp8fX4huZLA' ;
           timeInput.style.color = '#0094FF';
       }
    } else {
      console.error('Form submission failed: ' + xhr.statusText);
    }
  };
  xhr.send(new URLSearchParams(new FormData(form)));
  var xhr2 = new XMLHttpRequest();
  var checked = document.getElementById('checkboxtt').checked ? 1 : 0;
  xhr2.open('GET', 'http://admin:05055261517@hasantahsindagli.keenetic.pro/updatett?state=' + checked, true);
        var time = document.getElementById('timeBox').value;
        xhr.open('GET', 'settime?time=' + time);
        xhr.send();
        xhr2.send();
}
document.addEventListener('DOMContentLoaded', function() {
  var form = document.getElementById('myForm');
  form.addEventListener('submit', function(event) {
    event.preventDefault();
    submitForm();
  });
});
    window.onload = function() {
        setInterval(anlikSaatGoster, 1000);
        var checkbox01 = document.getElementById('checkbox1');
        var image11 = document.getElementById('image11');
        var image12 = document.getElementById('image12');
        var checkbox02 = document.getElementById('checkbox2');
        var image21 = document.getElementById('image21');
        var image22 = document.getElementById('image22');
        var checkbox00 = document.getElementById('checkbox0');
        var image01 = document.getElementById('image01');
        var image02 = document.getElementById('image02');
        var checkbox0 = document.getElementById('checkboxtt');
        var timeInput = document.getElementById('timeBox');
        var image = document.getElementById('imgkur');
        if (checkbox01.checked) {
                image11.style.display = 'block';
                image12.style.display = 'none';
        } else {
                image11.style.display = 'none';
                image12.style.display = 'block';
        }
        if (checkbox02.checked) {
                image21.style.display = 'block';
                image22.style.display = 'none';
        } else {
                image21.style.display = 'none';
                image22.style.display = 'block';
        }
        if (checkbox00.checked) {
                image01.style.display = 'block';
                image02.style.display = 'none';
        } else {
                image01.style.display = 'none';
                image02.style.display = 'block';
        }
        if (checkbox0.checked) {
                image.src = 'https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/8e13bd94-05b6-47b6-b18e-560c876b0112/dhd94hj-a46861ca-d32c-4e66-8b9e-3023d947b753.gif?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwiaXNzIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsIm9iaiI6W1t7InBhdGgiOiJcL2ZcLzhlMTNiZDk0LTA1YjYtNDdiNi1iMThlLTU2MGM4NzZiMDExMlwvZGhkOTRoai1hNDY4NjFjYS1kMzJjLTRlNjYtOGI5ZS0zMDIzZDk0N2I3NTMuZ2lmIn1dXSwiYXVkIjpbInVybjpzZXJ2aWNlOmZpbGUuZG93bmxvYWQiXX0.sQrKPPtAKW2PHeVZFpqzTorNMB76swqASLCQoo5oKfA' ;
                timeInput.style.color = '#FF0000';
        } else {
                image.src = 'https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/8e13bd94-05b6-47b6-b18e-560c876b0112/dh7zaav-4c6719b5-325a-49c4-a57f-36a061f4202b.png?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwiaXNzIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsIm9iaiI6W1t7InBhdGgiOiJcL2ZcLzhlMTNiZDk0LTA1YjYtNDdiNi1iMThlLTU2MGM4NzZiMDExMlwvZGg3emFhdi00YzY3MTliNS0zMjVhLTQ5YzQtYTU3Zi0zNmEwNjFmNDIwMmIucG5nIn1dXSwiYXVkIjpbInVybjpzZXJ2aWNlOmZpbGUuZG93bmxvYWQiXX0.f0ZFw7hL-jVH-Py3m1pXuO8P7k3w6s6Pqp8fX4huZLA' ;
                timeInput.style.color = '#0094FF';
        }
    var xhttp = new XMLHttpRequest();
    xhttp.open('GET', 'gettime');
    xhttp.onreadystatechange = function() {
      if (this.readyState == 4 && this.status == 200) {
        document.getElementById('timeBox').value = this.responseText;
      }
    };
    xhttp.send();
    }
    function toggleImage1() {
        var xhr = new XMLHttpRequest();
        var checkbox = document.getElementById('checkbox1');
        var image1 = document.getElementById('image11');
        var image2 = document.getElementById('image12');
        if (checkbox.checked) {
                image1.style.display = 'block';
                image2.style.display = 'none';
                xhr.open('POST', 'http://admin:05055261517@hasantahsindagli.keenetic.pro/LAMBA1on', true);
        } else {
                xhr.open('POST', 'http://admin:05055261517@hasantahsindagli.keenetic.pro/LAMBA1off', true);
                image1.style.display = 'none';
                image2.style.display = 'block';
        }
  var checked = document.getElementById('checkbox1').checked ? 1 : 0;
  xhr.open('GET', 'http://admin:05055261517@hasantahsindagli.keenetic.pro/update1?state=' + checked, true);
  xhr.send();
    }
    function toggleImage2() {
        var xhr = new XMLHttpRequest();
        var checkbox = document.getElementById('checkbox2');
        var image1 = document.getElementById('image21');
        var image2 = document.getElementById('image22');
        if (checkbox.checked) {
                image1.style.display = 'block';
                image2.style.display = 'none';
                xhr.open('POST', 'http://admin:05055261517@hasantahsindagli.keenetic.pro/LAMBA2on', true);
        } else {
                xhr.open('POST', 'http://admin:05055261517@hasantahsindagli.keenetic.pro/LAMBA2off', true);
                image1.style.display = 'none';
                image2.style.display = 'block';
        }
  var checked = document.getElementById('checkbox2').checked ? 1 : 0;
  xhr.open('GET', 'http://admin:05055261517@hasantahsindagli.keenetic.pro/update2?state=' + checked, true);
  xhr.send();
    }
    function toggleImage0() {
        var xhr = new XMLHttpRequest();
        var checkbox = document.getElementById('checkbox0');
        var image1 = document.getElementById('image01');
        var image2 = document.getElementById('image02');
        if (checkbox.checked) {
                image1.style.display = 'block';
                image2.style.display = 'none';
                xhr.open('POST', 'http://admin:05055261517@hasantahsindagli.keenetic.pro/LAMBAon', true);
        } else {
                xhr.open('POST', 'http://admin:05055261517@hasantahsindagli.keenetic.pro/LAMBAoff', true);
                image1.style.display = 'none';
                image2.style.display = 'block';
        }
  var checked = document.getElementById('checkbox0').checked ? 1 : 0;
  xhr.open('GET', 'http://admin:05055261517@hasantahsindagli.keenetic.pro/update0?state=' + checked, true);
  xhr.send();
    }
function internettenSaatAl(callback) {
    var xhr = new XMLHttpRequest();
    xhr.onreadystatechange = function() {
        if (xhr.readyState === 4 && xhr.status === 200) {
            var response = JSON.parse(xhr.responseText);
            var saat = new Date(response.datetime);
            callback(saat.getHours());
        }
    };
    xhr.open('GET', 'https://worldtimeapi.org/api/timezone/Europe/Istanbul', true);
    xhr.send();
}
function anlikSaatGoster() {
    var suan = new Date();
    var saat = suan.getHours();
    var dakika = suan.getMinutes();
    var saniye = suan.getSeconds();
    saat = saat < 10 ? '0' + saat : saat;
    dakika = dakika < 10 ? '0' + dakika : dakika;
    saniye = saniye < 10 ? '0' + saniye : saniye;
    var timeStr = saat + ':' + dakika + ':' + saniye;
    document.getElementById('saat').value = timeStr;
  if (alarmAktif) {
      alarmKontrol(saat, dakika);
  }
}
function alarmZamaniAyarla(alarm) {
    var alarmSaat = alarm.split(':')[0];
    var alarmDakika = alarm.split(':')[1];
    if (alarmAktif) {
      geriSayimBaslat(alarmSaat, alarmDakika);
    }
}
function alarmDurumunuDegistir(checkbox) {
    alarmAktif = document.getElementById('checkboxtt').checked;
    if (alarmAktif) {
        var alarmSaat = document.getElementById('alarmSaat').value.split(':')[0];
        var alarmDakika = document.getElementById('alarmSaat').value.split(':')[1];
        geriSayimBaslat(alarmSaat, alarmDakika);
    } else {
        clearTimeout(alarmZamanlayici);
    }
}
function alarmKontrol(saat, dakika) {
    var alarmSaat = document.getElementById('alarmSaat').value.split(':')[0];
    var alarmDakika = document.getElementById('alarmSaat').value.split(':')[1];
    if (saat == alarmSaat && dakika == alarmDakika) {
        document.getElementById('checkbox0').checked = false;
        document.getElementById('checkbox1').checked = false;
        document.getElementById('checkbox2').checked = false;
        document.getElementById('checkboxtt').checked = false;
        window.onload();
        var xhr = new XMLHttpRequest();
        xhr.open('POST', '/LAMBACL', true);
        xhr.send();
        alarmAktif = false;
    }
}
function geriSayimBaslat(alarmSaat, alarmDakika) {
    var suan = new Date();
    var suanSaat = suan.getHours();
    var suanDakika = suan.getMinutes();
    var alarmSaatInt = parseInt(alarmSaat);
    var alarmDakikaInt = parseInt(alarmDakika);
    var suanSaatInt = parseInt(suanSaat);
    var suanDakikaInt = parseInt(suanDakika);
    var alarmSuresi = (alarmSaatInt * 60 + alarmDakikaInt) - (suanSaatInt * 60 + suanDakikaInt);
    alarmZamanlayici = setTimeout(function() {
        alarmKontrol(suanSaat, suanDakika);
        alarmAktif = false;
    }, alarmSuresi * 60000);
}
</script>

</body></html>
